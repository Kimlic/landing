window.mr=window.mr||{},mr=function(e,t,a,r){"use strict";var i={documentReady:[],documentReadyDeferred:[],windowLoad:[],windowLoadDeferred:[]};function n(a){a=void 0===a?t:a,i.documentReady.concat(i.documentReadyDeferred).forEach(function(e){e(a)}),e.status.documentReadyRan=!0,e.status.windowLoadPending&&o(e.setContext())}function o(a){e.status.documentReadyRan?(e.status.windowLoadPending=!1,a="object"==typeof a?t:a,i.windowLoad.concat(i.windowLoadDeferred).forEach(function(e){e(a)})):e.status.windowLoadPending=!0}return(e=e||{}).status={documentReadyRan:!1,windowLoadPending:!1},t(r).ready(n),t(a).on("load",o),e.setContext=function(e){return void 0!==e?function(a){return t(e).find(a)}:t},e.components=i,e.documentReady=n,e.windowLoad=o,e}(window.mr,jQuery,window,document),mr=function(e,t,a,r){"use strict";return e.util={},e.util.requestAnimationFrame=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,e.util.documentReady=function(e){var t=(new Date).getFullYear();e(".update-year").text(t)},e.util.windowLoad=function(e){e("[data-delay-src]").each(function(){var t=e(this);t.attr("src",t.attr("data-delay-src")),t.removeAttr("data-delay-src")})},e.util.getURLParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[void 0,""])[1].replace(/\+/g,"%20"))||null},e.util.capitaliseFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.util.slugify=function(e,t){return void 0!==t?e.replace(/ +/g,""):e.toLowerCase().replace(/[\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\]\[\}\{\'\"\;\\\:\?\/\>\<\.\,]+/g,"").replace(/ +/g,"-")},e.util.sortChildrenByText=function(e,a){var r=t(e),i=r.children().get(),n=-1,o=1;void 0!==a&&(n=1,o=-1),i.sort(function(e,a){var r=t(e).text(),i=t(a).text();return r<i?n:r>i?o:0}),r.empty(),t(i).each(function(e,t){r.append(t)})},e.util.idleSrc=function(e,a){a=void 0!==a?a:"",(e.is(a+"[src]")?e:e.find(a+"[src]")).each(function(e,a){var r=(a=t(a)).attr("src");void 0===a.attr("data-src")&&a.attr("data-src",r),a.attr("src","")})},e.util.activateIdleSrc=function(e,a){a=void 0!==a?a:"",(e.is(a+"[data-src]")?e:e.find(a+"[data-src]")).each(function(e,a){var r=(a=t(a)).attr("data-src");a.attr("src",r)})},e.util.pauseVideo=function(e){(e.is("video")?e:e.find("video")).each(function(e,a){t(a).get(0).pause()})},e.util.parsePixels=function(e){var r=t(a).height();return/^[1-9]{1}[0-9]*[p][x]$/.test(e)?parseInt(e.replace("px",""),10):/^[1-9]{1}[0-9]*[v][h]$/.test(e)?r*(parseInt(e.replace("vh",""),10)/100):-1},e.util.removeHash=function(){history.pushState("",r.title,a.location.pathname+a.location.search)},e.components.documentReady.push(e.util.documentReady),e.components.windowLoad.push(e.util.windowLoad),e}(mr,jQuery,window,document),mr=function(e,t,a,r){"use strict";return e.window={},e.window.height=t(a).height(),e.window.width=t(a).width(),t(a).on("resize",function(){e.window.height=t(a).height(),e.window.width=t(a).width()}),e}(mr,jQuery,window,document),mr=function(e,t,a,r){"use strict";return e.forms=e.forms||{},e.forms.captcha={},e.forms.captcha.widgets=[],e.forms.captcha.done=!1,e.forms.documentReady=function(t){e.forms.captcha.widgets=[],t('.input-checkbox input[type="checkbox"], .input-radio input[type="radio"]').each(function(e){var a=t(this),r=a.siblings("label"),i="input-assigned-"+e;void 0===a.attr("id")||""===a.attr("id")?(a.attr("id",i),r.attr("for",i)):(i=a.attr("id"),r.attr("for",i))}),t(".input-number__controls > span").off("click.mr").on("click.mr",function(){var e=jQuery(this),t=e.closest(".input-number"),a=t.find('input[type="number"]'),r=a.attr("max"),i=a.attr("min"),n=1,o=parseInt(a.val(),10);t.is("[data-step]")&&(n=parseInt(t.attr("data-step"),10)),e.hasClass("input-number__increase")?o+n<=r&&a.val(o+n):o-n>=i&&a.val(o-n)}),t(".input-file .btn").off("click.mr").on("click.mr",function(){return t(this).siblings("input").trigger("click"),!1}),t('form.form-email, form[action*="list-manage.com"], form[action*="createsend.com"]').attr("novalidate",!0).off("submit").on("submit",e.forms.submit),t(r).on("change, input, paste, keyup",".attempted-submit .field-error",function(){t(this).removeClass("field-error")}),t('form[data-recaptcha-sitekey]:not([data-recaptcha-sitekey=""])').each(function(){var t,a,r,i,n,o,s=jQuery(this),d=s.find("div.recaptcha");n=void 0!==(n=s.attr("data-recaptcha-theme"))?n:"",o=void 0!==(o=s.attr("data-recaptcha-size"))?o:"",e.forms.captcha.sitekey=s.attr("data-recaptcha-sitekey"),d.length||(t=s.find("button[type=submit]").closest('[class*="col-"]'),d=jQuery("<div>").addClass("recaptcha"),jQuery("<div>").addClass("col-xs-12").append(d).insertBefore(t)),a={element:d.get(0),parentForm:s,theme:n,size:o},e.forms.captcha.widgets.push(a),!1===e.forms.captcha.done?jQuery('script[src*="recaptcha/api.js"]').length||(i="https://www.google.com/recaptcha/api.js?onload=mrFormsCaptchaInit&render=explicit",(r=jQuery("<script async defer>")).attr("src",i),jQuery("body").append(r),e.forms.captcha.done=!0):"undefined"!=typeof grecaptcha&&e.forms.captcha.renderWidgets()})},e.forms.submit=function(r){r.preventDefault?r.preventDefault():r.returnValue=!1;var i,n,o,s,d,c=t("body"),l=t(r.target).closest("form"),u=void 0!==l.attr("action")?l.attr("action"):"",f=l.find('button[type="submit"], input[type="submit"]'),p=l.attr("original-error"),m=!!l.find("div.recaptcha").length;if(c.find(".form-error, .form-success").remove(),f.attr("data-text",f.text()),s=l.attr("data-error")?l.attr("data-error"):"Please fill all fields correctly",d=l.attr("data-success")?l.attr("data-success"):"Thanks, we'll be in touch shortly",c.append('<div class="form-error" style="display: none;">'+s+"</div>"),c.append('<div class="form-success" style="display: none;">'+d+"</div>"),n=c.find(".form-error"),o=c.find(".form-success"),l.addClass("attempted-submit"),-1!==u.indexOf("createsend.com")||-1!==u.indexOf("list-manage.com"))if(console.log("Mail list form signup detected."),void 0!==p&&!1!==p&&n.html(p),1!==e.forms.validateFields(l)){l.removeClass("attempted-submit"),n.fadeOut(200),f.addClass("btn--loading");try{t.ajax({url:l.attr("action"),crossDomain:!0,data:l.serialize(),method:"GET",cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){"success"!==t.result&&200!==t.Status?(n.attr("original-error",n.text()),n.html(t.msg).stop(!0).fadeIn(1e3),o.stop(!0).fadeOut(1e3),f.removeClass("btn--loading")):(f.removeClass("btn--loading"),void 0!==(i=l.attr("data-success-redirect"))&&!1!==i&&""!==i?a.location=i:(e.forms.resetForm(l),e.forms.showFormSuccess(o,n,1e3,5e3,500)))}})}catch(t){n.attr("original-error",n.text()),n.html(t.message),e.forms.showFormError(o,n,1e3,5e3,500),f.removeClass("btn--loading")}}else e.forms.showFormError(o,n,1e3,5e3,500);else void 0!==p&&!1!==p&&n.text(p),1===e.forms.validateFields(l)?e.forms.showFormError(o,n,1e3,5e3,500):(l.removeClass("attempted-submit"),n.fadeOut(200),f.addClass("btn--loading"),jQuery.ajax({type:"POST",url:""!==u?u:"mail/mail.php",data:l.serialize()+"&url="+a.location.href+"&captcha="+m,success:function(r){f.removeClass("btn--loading"),t.isNumeric(r)?parseInt(r,10)>0&&(void 0!==(i=l.attr("data-success-redirect"))&&!1!==i&&""!==i&&(a.location=i),e.forms.resetForm(l),e.forms.showFormSuccess(o,n,1e3,5e3,500),e.forms.captcha.resetWidgets()):(n.attr("original-error",n.text()),n.text(r).stop(!0).fadeIn(1e3),o.stop(!0).fadeOut(1e3))},error:function(e,t,a){n.attr("original-error",n.text()),n.text(a).stop(!0).fadeIn(1e3),o.stop(!0).fadeOut(1e3),f.removeClass("btn--loading")}}));return!1},e.forms.validateFields=function(e){var a,r=t(r),i=!1;if((e=t(e)).find('.validate-required[type="checkbox"]').each(function(){var e=t(this);t('[name="'+t(this).attr("name")+'"]:checked').length||(i=1,t(this).attr("data-name")||"check",e.parent().addClass("field-error"))}),e.find(".validate-required, .required, [required]").not('input[type="checkbox"]').each(function(){""===t(this).val()?(t(this).addClass("field-error"),i=1):t(this).removeClass("field-error")}),e.find('.validate-email, .email, [name*="cm-"][type="email"]').each(function(){/(.+)@(.+){2,}\.(.+){2,}/.test(t(this).val())?t(this).removeClass("field-error"):(t(this).addClass("field-error"),i=1)}),e.find(".validate-number-dash").each(function(){/^[0-9][0-9-]+[0-9]$/.test(t(this).val())?t(this).removeClass("field-error"):(t(this).addClass("field-error"),i=1)}),e.find("div.recaptcha").length&&void 0!==e.attr("data-recaptcha-sitekey")&&(a=t(e.find("div.recaptcha")),""!==grecaptcha.getResponse(e.data("recaptchaWidgetID"))?a.removeClass("field-error"):(a.addClass("field-error"),i=1)),e.find(".field-error").length){var n=t(e).find(".field-error:first");n.length&&t("html, body").stop(!0).animate({scrollTop:n.offset().top-100},1200,function(){n.focus()})}else r.find(".form-error").fadeOut(1e3);return i},e.forms.showFormSuccess=function(e,t,a,r,i){e.stop(!0).fadeIn(a),t.stop(!0).fadeOut(a),setTimeout(function(){e.stop(!0).fadeOut(i)},r)},e.forms.showFormError=function(e,t,a,r,i){t.stop(!0).fadeIn(a),e.stop(!0).fadeOut(a),setTimeout(function(){t.stop(!0).fadeOut(i)},r)},e.forms.resetForm=function(e){(e=t(e)).get(0).reset(),e.find(".input-radio, .input-checkbox").removeClass("checked"),e.find("[data-default-value]").filter('[type="text"],[type="number"],[type="email"],[type="url"],[type="search"],[type="tel"]').each(function(){var e=jQuery(this);e.val(e.attr("data-default-value"))})},a.mrFormsCaptchaInit=function(){e.forms.captcha.renderWidgets()},e.forms.captcha.renderWidgets=function(){e.forms.captcha.widgets.forEach(function(t){""===t.element.innerHTML.replace(/[\s\xA0]+/g,"")&&(t.id=grecaptcha.render(t.element,{sitekey:e.forms.captcha.sitekey,theme:t.theme,size:t.size,callback:e.forms.captcha.setHuman}),t.parentForm.data("recaptchaWidgetID",t.id))})},e.forms.captcha.resetWidgets=function(){e.forms.captcha.widgets.forEach(function(e){grecaptcha.reset(e.id)})},e.forms.captcha.setHuman=function(){jQuery("div.recaptcha.field-error").removeClass("field-error")},e.components.documentReadyDeferred.push(e.forms.documentReady),e}(mr,jQuery,window,document),mr=function(e,t,a,r){"use strict";return e.newsletters=e.newsletters||{},e.newsletters.documentReady=function(t){var a,r,i,n,o,s;t('form[action*="createsend.com"]').each(function(){(a=t(this)).attr("novalidate","novalidate"),a.is(".form--no-placeholders")?a.find("input[placeholder]").removeAttr("placeholder"):a.find("input:not([checkbox]):not([radio])").each(function(){var e=t(this);void 0!==e.attr("placeholder")?""===e.attr("placeholder")&&e.siblings("label").length&&(e.attr("placeholder",e.siblings("label").first().text()),a.is(".form--no-labels")&&e.siblings("label").first().remove()):e.siblings("label").length&&(e.attr("placeholder",e.siblings("label").first().text()),a.is(".form--no-labels")&&e.siblings("label").first().remove()),e.parent().is("p")&&e.unwrap()}),a.find("select").wrap('<div class="input-select"></div>'),a.find('input[type="radio"]').wrap('<div class="input-radio"></div>'),a.find('input[type="checkbox"]').each(function(){r=t(this),n=r.attr("id"),(i=a.find("label[for="+n+"]")).length||(i=t('<label for="'+n+'"></label>')),r.before('<div class="input-checkbox" data-id="'+n+'"></div>'),t('.input-checkbox[data-id="'+n+'"]').prepend(r),t('.input-checkbox[data-id="'+n+'"]').prepend(i)}),a.find('button[type="submit"]').each(function(){var e=t(this);e.addClass("btn"),e.parent().is("p")&&e.unwrap()}),a.find("[required]").attr("required","required").addClass("validate-required"),a.addClass("form--active"),e.newsletters.prepareAjaxAction(a)}),t('form[action*="list-manage.com"]').each(function(){(a=t(this)).attr("novalidate","novalidate"),a.is(".form--no-placeholders")?a.find("input[placeholder]").removeAttr("placeholder"):a.find("input:not([checkbox]):not([radio])").each(function(){var e=t(this);void 0!==e.attr("placeholder")?""===e.attr("placeholder")&&e.siblings("label").length&&(e.attr("placeholder",e.siblings("label").first().text()),a.is(".form--no-labels")&&e.siblings("label").first().remove()):e.siblings("label").length&&(e.attr("placeholder",e.siblings("label").first().text()),a.is(".form--no-labels")&&e.siblings("label").first().remove())}),a.is(".form--no-labels")&&a.find("input:not([checkbox]):not([radio])").each(function(){var e=t(this);e.siblings("label").length&&e.siblings("label").first().remove()}),a.find("select").wrap('<div class="input-select"></div>'),a.find('input[type="checkbox"]').each(function(){r=jQuery(this),o=r.parent(),(i=o.find("label")).length||(i=jQuery("<label>")),r.before('<div class="input-checkbox"></div>'),o.find(".input-checkbox").append(r),o.find(".input-checkbox").append(i)}),a.find('input[type="radio"]').each(function(){s=jQuery(this),o=s.closest("li"),(i=o.find("label")).length||(i=jQuery("<label>")),s.before('<div class="input-radio"></div>'),o.find(".input-radio").prepend(s),o.find(".input-radio").prepend(i)}),a.find('input[type="submit"]').each(function(){var e=t(this),a=jQuery("<button/>").attr("type","submit").attr("class",e.attr("class")).addClass("btn").text(e.attr("value"));e.parent().is("div.clear")&&e.unwrap(),a.insertBefore(e),e.remove()}),a.find("input").each(function(){var e=t(this);e.hasClass("required")&&e.removeClass("required").addClass("validate-required")}),a.find('input[type="email"]').removeClass("email").addClass("validate-email"),a.find("#mce-responses").remove(),a.find(".mc-field-group").each(function(){t(this).children().first().unwrap()}),a.find("[required]").attr("required","required").addClass("validate-required"),a.addClass("form--active"),e.newsletters.prepareAjaxAction(a)}),e.forms.documentReady(e.setContext("form.form--active"))},e.newsletters.prepareAjaxAction=function(e){var a=t(e).attr("action");/list-manage\.com/.test(a)&&"//"===(a=a.replace("/post?","/post-json?")+"&c=?").substr(0,2)&&(a="http:"+a),/createsend\.com/.test(a)&&(a+="?callback=?"),t(e).attr("action",a)},e.components.documentReady.push(e.newsletters.documentReady),e}(mr,jQuery,window,document);